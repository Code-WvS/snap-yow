<blocks app="Snap! 4.0, http://snap.berkeley.edu" version="1"><block-definition s="ist Längengrad: %&apos;Längengrad&apos; Breitengrad: %&apos;Breitengrad&apos; innerhalb einer Fläche der Farbe von %&apos;SpriteName&apos; ?" type="predicate" category="sensing"><header></header><code></code><inputs><input type="%n"></input><input type="%n"></input><input type="%txt">Sprite</input></inputs><script><block s="doReport"><block s="evaluate"><block s="reportJSFunction"><list><l>spriteName</l><l>lat</l><l>lon</l></list><l>var layers = window.penShapes, sprites = world.children[0].sprites.asArray(), sprite;&#xD;for (j = 0; j &lt; sprites.length; j++) {&#xD; if (sprites[j].name == spriteName) {&#xD; sprite = sprites[j];&#xD; break;&#xD; }&#xD;}&#xD;if (!sprite) {&#xD; return false;&#xD;}&#xD;var matches = leafletPip.pointInLayer([lon, lat], layers);&#xD;&#xD;for (var j = 0; j &lt; matches.length; j++) {&#xD; if (matches[j].options.color == sprite.color) {&#xD;  return true;&#xD; }&#xD;}&#xD;&#xD;return false;</l></block><list><block var="SpriteName"/><block var="Breitengrad"/><block var="Längengrad"/></list></block></block></script></block-definition><block-definition s="ist eine Straße nahe Längengrad: %&apos;lon&apos; Breitengrad: %&apos;lat&apos;" type="predicate" category="sensing"><header></header><code></code><inputs><input type="%n"></input><input type="%n"></input></inputs><script><block s="doReport"><block s="reportGreaterThan"><block s="reportListLength"><block s="overpassQuery"><block s="reportJoinWords"><list><l>way(around:7,</l><block var="lat"/><l>,</l><block var="lon"/><l>)[highway];out;</l></list></block></block></block><l>0</l></block></block></script></block-definition><block-definition s="ist ein Gebäude nahe Längengrad: %&apos;lon&apos; Breitengrad: %&apos;lat&apos;" type="predicate" category="sensing"><header></header><code></code><inputs><input type="%n"></input><input type="%n"></input></inputs><script><block s="doReport"><block s="reportGreaterThan"><block s="reportListLength"><block s="overpassQuery"><block s="reportJoinWords"><list><l>way(around:5,</l><block var="lat"/><l>,</l><block var="lon"/><l>)[building];out;</l></list></block></block></block><l>0</l></block></block></script></block-definition><block-definition s="Größe des von mit %&apos;SpriteName&apos; s Farbe markierten Feldes" type="reporter" category="sensing"><header></header><code></code><inputs><input type="%txt">Sprite</input></inputs><script><block s="doReport"><block s="evaluate"><block s="reportJSFunction"><list><l>spriteName</l></list><l>var size = 0, layers = window.penShapes.getLayers(), sprites = world.children[0].sprites.asArray(), sprite;&#xD;for (j = 0; j &lt; sprites.length; j++) {&#xD; if (sprites[j].name == spriteName) {&#xD; sprite = sprites[j];&#xD; break;&#xD; }&#xD;}&#xD;if (!sprite) {&#xD; return 0;&#xD;}&#xD;for (j = 0; j &lt; layers.length; j++) {&#xD; if (layers[j].options.color == sprite.color) {&#xD; size += LGeo.area(layers[j]);&#xD; }&#xD;}&#xD;return size;</l></block><list><block var="SpriteName"/></list></block></block></script></block-definition></blocks>